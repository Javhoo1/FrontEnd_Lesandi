(this.webpackJsonplesandiweb=this.webpackJsonplesandiweb||[]).push([[0],{24:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n(16),r=n.n(a),i=n(8),o=n(11),l=n(30),j=n(3),b="[ui] Open modal",d="[ui] Close modal",u="[auth] Finish checking login state",m="[auth] Login",h="[auth] Logout",O={checking:!0},x={modalOpen:!1},p=Object(o.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(j.a)(Object(j.a)({},e),{},{modalOpen:!0});case d:return Object(j.a)(Object(j.a)({},e),{},{modalOpen:!1});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(j.a)(Object(j.a)(Object(j.a)({},e),t.payload),{},{checking:!1});case u:return Object(j.a)(Object(j.a)({},e),{},{checking:!1});case h:return{checking:!1};default:return e}}}),g="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,f=Object(o.e)(p,g(Object(o.a)(l.a))),v=n(18),N=n(4),w=n(14),y=n(19),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.useState)(e),n=Object(w.a)(t,2),c=n[0],a=n[1],r=function(){a(e)},i=function(e){var t=e.target;a(Object(j.a)(Object(j.a)({},c),{},Object(y.a)({},t.name,t.value)))};return[c,i,r]},k=(n(40),n(12)),S=n.n(k),I=n(21),E="https://lectoescritura-lesandi.herokuapp.com/api",L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(E,"/").concat(e);return"GET "===n?fetch(c):fetch(c,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(E,"/").concat(e),s=localStorage.getItem("token")||"";return"GET "===n?fetch(c,{method:n,headers:{"x-token":s}}):fetch(c,{method:n,headers:{"Content-type":"application/json","x-token":s},body:JSON.stringify(t)})},T=n(10),P=n.n(T),A=function(){return{type:u}},G=function(e){return{type:m,payload:e}},U=function(){return{type:h}},D=(n(24),function(){return Object(c.jsxs)("div",{className:"navbar  mb-4",children:[Object(c.jsxs)("a",{href:"/",class:"btn-navbar",children:[Object(c.jsx)("i",{class:"fa fa-arrow-circle-left"}),"Inicio"]}),Object(c.jsx)("span",{className:"navbar-span",children:"Lesandi"})]})}),J=function(){var e=Object(i.b)(),t=C({lUserName:"",lPassword:""}),n=Object(w.a)(t,2),s=n[0],a=n[1],r=s.lUserName,o=s.lPassword;return Object(c.jsxs)("body",{className:"bodyLogin",children:[Object(c.jsx)(D,{}),Object(c.jsx)("span",{className:"romboLogin"}),Object(c.jsx)("span",{className:"romboLogin"}),Object(c.jsx)("span",{className:"romboLogin"}),Object(c.jsx)("span",{className:"romboLogin"}),Object(c.jsx)("span",{className:"romboLogin"}),Object(c.jsx)("div",{className:"containerLogin",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-6 mt-5 mx-auto",children:[Object(c.jsxs)("form",{onSubmit:function(t){return t.preventDefault(),""===r?P.a.fire("Error",'Campo "Nombre de usuario" vacio',"error"):""===o?P.a.fire("Error",'Campo "Contrase\xf1a" vacio'):void e((n=r,c=o,function(){var e=Object(I.a)(S.a.mark((function e(t){var s,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("auth",{user_name:n,password:c},"POST");case 2:return s=e.sent,e.next=5,s.json();case 5:(a=e.sent).ok?(localStorage.setItem("token",a.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(G({uid:a.uid,name:a.name}))):P.a.fire("Error",a.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n,c},children:[Object(c.jsx)("h1",{className:"h1-login",children:"Inicia Sesi\xf3n"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{className:"label-login",children:"Nombre de Usuario"}),Object(c.jsx)("input",{type:"text",className:"form-control",name:"lUserName",placeholder:"",onChange:a})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{className:"label-login",children:"Contrase\xf1a"}),Object(c.jsx)("input",{type:"password",className:"form-control",name:"lPassword",placeholder:"",onChange:a})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"submit",className:"btnSubmit",value:"Login"})})]}),Object(c.jsxs)("p",{children:["\xbfNo tienes cuenta?, ",Object(c.jsx)("a",{href:"Register",children:"Registrate aqu\xed."})]})]})})})]})},R=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})).name;return Object(c.jsxs)("div",{className:"navbar span",children:[Object(c.jsxs)("span",{className:"navbar-span",children:["Bienvenido ",t]}),Object(c.jsxs)("button",{className:"btn-navbar",onClick:function(){e((function(e){localStorage.clear(),e(U())}))},children:[Object(c.jsx)("i",{className:"fas fa-sign-out-alt"}),Object(c.jsx)("span",{children:" Salir"})]})]})},V=(n(42),function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(R,{}),Object(c.jsx)("div",{className:"div-titulo",children:Object(c.jsx)("p",{children:"SELECCIONA TU NIVEL"})}),Object(c.jsx)("div",{className:"div-games-left",children:Object(c.jsx)("div",{class:"ih-item circle effect9 right_to_left",children:Object(c.jsxs)("a",{href:"juego1-1.html",children:[Object(c.jsx)("div",{class:"img div-img",children:Object(c.jsx)("img",{alt:"numero1",src:"num1.png"})}),Object(c.jsxs)("div",{class:"info",children:[Object(c.jsx)("h3",{children:"Primer Grado"}),Object(c.jsx)("p",{children:"Con 3 niveles de dificultad"}),Object(c.jsx)("br",{}),Object(c.jsx)("a",{href:"juego1-1.html",role:"button",class:"button-games",children:"Jugar"})]})]})})}),Object(c.jsx)("div",{className:"div-games-center",children:Object(c.jsx)("div",{class:"ih-item circle effect9 bottom_to_top",children:Object(c.jsxs)("a",{href:"juego2-1.html",children:[Object(c.jsx)("div",{class:"img div-img",children:Object(c.jsx)("img",{alt:"numero2",src:"num2.png"})}),Object(c.jsxs)("div",{class:"info",children:[Object(c.jsx)("h3",{children:"Segundo Grado"}),Object(c.jsx)("p",{children:"Con 3 niveles de dificultad"}),Object(c.jsx)("br",{}),Object(c.jsx)("a",{href:"juego2-1.html",role:"button",class:"button-games",children:"Jugar"})]})]})})}),Object(c.jsx)("div",{className:"div-games-right",children:Object(c.jsx)("div",{class:"ih-item circle effect9 left_to_right",children:Object(c.jsxs)("a",{href:"juego3-1.html",children:[Object(c.jsx)("div",{class:"img div-img",children:Object(c.jsx)("img",{alt:"numero3",className:"img-circle",src:"num3.png"})}),Object(c.jsxs)("div",{class:"info",children:[Object(c.jsx)("h3",{children:"Tercer Grado"}),Object(c.jsx)("p",{children:"Con 3 niveles de dificultad"}),Object(c.jsx)("br",{}),Object(c.jsx)("a",{role:"button",class:"button-games",href:"juego3-1.html",children:"Jugar"})]})]})})})]})}),q=(n(43),function(){var e=Object(i.b)(),t=C({rUserName:"",rName:"",rPassword1:"",rPassword2:"",rGrade:"",rInstitution:""}),n=Object(w.a)(t,2),s=n[0],a=n[1],r=s.rUserName,o=s.rName,l=s.rPassword1,j=s.rPassword2,b=s.rGrade,d=s.rInstitution;return Object(c.jsxs)("body",{children:[Object(c.jsx)(D,{}),Object(c.jsxs)("form",{onSubmit:function(t){return t.preventDefault(),""===r||""===o||""===l||""===j||""===b?P.a.fire("Error","Campo(s) Vacio(s)","error"):l!==j?P.a.fire("Error","Contrase\xf1as no coinciden","error"):(console.log("?"),void e((n=r,c=o,s=l,a=b,i=d,function(){var e=Object(I.a)(S.a.mark((function e(t){var r,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L("auth/new",{user_name:n,name:c,password:s,grade:a,institution:i},"POST");case 2:return r=e.sent,e.next=5,r.json();case 5:(o=e.sent).ok?(localStorage.setItem("token",o.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(G({uid:o.uid,name:o.name}))):P.a.fire("Error",o.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));var n,c,s,a,i},className:"form form-register",children:[Object(c.jsx)("h1",{className:"h1-register",children:"CREA TU CUENTA"}),Object(c.jsxs)("div",{className:"form-inputs",children:[Object(c.jsx)("label",{className:"label-register",children:"Ingresa tu nombre de usuario"}),Object(c.jsx)("input",{className:"form-input",type:"text",name:"rUserName",placeholder:"",value:r,onChange:a})]}),Object(c.jsxs)("div",{className:"form-inputs",children:[Object(c.jsx)("label",{className:"label-register",children:"Ingresa tu nombre"}),Object(c.jsx)("input",{className:"form-input",type:"text",name:"rName",placeholder:"",value:o,onChange:a})]}),Object(c.jsxs)("div",{className:"form-inputs",children:[Object(c.jsx)("label",{className:"label-register",children:"Ingresa tu contrase\xf1a"}),Object(c.jsx)("input",{className:"form-input",type:"password",name:"rPassword1",placeholder:"",value:l,onChange:a})]}),Object(c.jsxs)("div",{className:"form-inputs",children:[Object(c.jsx)("label",{className:"label-register",children:"Confirma tu contrase\xf1a"}),Object(c.jsx)("input",{className:"form-input",type:"password",name:"rPassword2",placeholder:"",value:j,onChange:a})]}),Object(c.jsxs)("div",{className:"form-inputs",children:[Object(c.jsx)("label",{className:"label-register",children:"Ingresa tu grado escolar"}),Object(c.jsxs)("select",{className:"form-control",name:"rGrade",value:b,onChange:a,children:[Object(c.jsx)("option",{children:"Selecciona"}),Object(c.jsx)("option",{value:"primer_grado",children:"Primer Grado"}),Object(c.jsx)("option",{value:"segundo_grado",children:"Segundo Grado"}),Object(c.jsx)("option",{value:"tercer_grado",children:"Tercer Grado"}),Object(c.jsx)("option",{value:"otro",children:"Otro"})]})]}),Object(c.jsxs)("div",{className:"form-inputs",children:[Object(c.jsx)("label",{className:"label-register",children:"Ingresa el nombre de tu escuela (opcional)"}),Object(c.jsx)("input",{className:"form-input",type:"text",name:"rInstitution",placeholder:"",value:d,onChange:a})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"submit",className:"btnSubmit",value:"Crear cuenta"})}),Object(c.jsxs)("span",{className:"form-input-login",children:["\xbfYa tienes una cuenta? Inicia sesi\xf3n ",Object(c.jsx)("a",{href:"Login",children:"aqu\xed"})]})]})]})}),B=(n(44),function(){return Object(c.jsxs)("body",{children:[Object(c.jsx)("div",{className:"titulo-lesandi",children:"LESANDI"}),Object(c.jsx)("div",{className:"logo-content",children:Object(c.jsx)("img",{className:"img-logo",src:"Logo-Lesandi2.png",alt:"img"})}),Object(c.jsx)("div",{className:"div-boton-login",children:Object(c.jsx)("a",{className:"boton-home-login",href:"login",children:"Inicia Sesi\xf3n"})}),Object(c.jsx)("div",{className:"div-boton-register",children:Object(c.jsx)("a",{className:"boton-home-register",href:"register",children:"  Registrarse  "})}),Object(c.jsx)("div",{className:"h3-home",children:Object(c.jsx)("h3",{children:"Aprender nunca ha sido tan divertido"})}),Object(c.jsxs)("div",{class:"bubbles",children:[Object(c.jsx)("div",{class:"bubble"}),Object(c.jsx)("div",{class:"bubble"}),Object(c.jsx)("div",{class:"bubble"}),Object(c.jsx)("div",{class:"bubble"}),Object(c.jsx)("div",{class:"bubble"}),Object(c.jsx)("div",{class:"bubble"}),Object(c.jsx)("div",{class:"bubble"}),Object(c.jsx)("div",{class:"bubble"}),Object(c.jsx)("div",{class:"bubble"}),Object(c.jsx)("div",{class:"bubble"})]})]})}),X=n(20),F=function(e){var t=e.isAuthenticated,n=e.component,s=Object(X.a)(e,["isAuthenticated","component"]);return Object(c.jsx)(N.b,Object(j.a)(Object(j.a)({},s),{},{component:function(e){return t?Object(c.jsx)(N.a,{to:"/games"}):Object(c.jsx)(n,Object(j.a)({},e))}}))},M=function(e){var t=e.isAuthenticated,n=e.component,s=Object(X.a)(e,["isAuthenticated","component"]);return Object(c.jsx)(N.b,Object(j.a)(Object(j.a)({},s),{},{component:function(e){return t?Object(c.jsx)(n,Object(j.a)({},e)):Object(c.jsx)(N.a,{to:"/login"})}}))},Y=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth})),n=t.checking,a=t.uid;return Object(s.useEffect)((function(){e(function(){var e=Object(I.a)(S.a.mark((function e(t){var n,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("auth/renew");case 2:return n=e.sent,e.next=5,n.json();case 5:(c=e.sent).ok?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(G({uid:c.uid,name:c.name}))):t(A());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(c.jsx)("h5",{children:"Cargando..."}):Object(c.jsx)(v.a,{children:Object(c.jsx)("div",{children:Object(c.jsxs)(N.d,{children:[Object(c.jsx)(F,{exact:!0,path:"/",component:B,isAuthenticated:!!a}),Object(c.jsx)(F,{exact:!0,path:"/login",component:J,isAuthenticated:!!a}),Object(c.jsx)(F,{exact:!0,path:"/register",component:q,isAuthenticated:!!a}),Object(c.jsx)(M,{exact:!0,path:"/games",component:V,isAuthenticated:!!a}),Object(c.jsx)(N.a,{to:"/games"})]})})})},z=function(){return Object(c.jsx)(i.a,{store:f,children:Object(c.jsx)(Y,{})})};r.a.render(Object(c.jsx)(z,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.11b82ddf.chunk.js.map