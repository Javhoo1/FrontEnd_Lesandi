<!-- Detalle: Solo hay 3 respuestas correctas, se pueden agregar pero hay que asegurar que siempre se tengan 3 en cadaa juego-->
<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.gstatic.com/%22%3E">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet prefetch" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
    <link href="Hover-master/css/hover.css" rel="stylesheet" media="all">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Primero de Primaria</title>

    <style>

        .Question{
            text-align: center;
            font-family: Roboto, cursive;
            color: #23385c;
            font-size: 4vw;
            font-weight: 600;
        }

        p{
            font-family: 'roboto';
            
        }

        .Right button{
            background-color: #32cf01 !important;

        }

        .Wrong button{
            background-color: red !important;
        }
        img{
            height: 150px;
            width: 150px;
            
        }
        .Contenedor{
            flex-direction: column;
            text-align: center;
            align-items: center;
            display: flex ;

        }
        .tabla{
            text-align: center;
            width: 65%;
            background: white;
            border-radius: 1px;
            box-shadow: 8px 9px 26px 0 rgba(46, 61, 73, 0.5);
            display: flex;
            flex-wrap: wrap ;
            align-items: center ;
        }
        li{
            width: 20%;
            height: 20%;
            margin: 1%;
            float: left;
            list-style: none;
        }
        .ans button {
            border:black 5px; 
            display:inline-block;
            width: auto;
            background: #ffffff;
            cursor: pointer;
        }
        .Bajate{
            width: 50%;
            height: 100%;
            float: right;
        }
        .btnSiguiente{
            width: 25vw;
            border-radius: 1vh;
            border-width: 1vh;
            border-color: #23385c;
            margin: 3vh 10vw 0 10vw;
            color: #23385c;
            font-family: Roboto, cursive;
            font-size: 2vw;
            cursor: pointer;
        }
        .btnSiguiente:hover:enabled{
            color: white;
            background: #23385c;
        }
        .btnSiguiente:disabled{
            color: gray;
            border-color: gray;
        }

        .imagenes{
            text-align: center;
        }
        .RightCSS{
            width: 25vw;
            font-family: Roboto, cursive;
            font-size: 2vw;
            color: #32cf01;
            float: left;
        }
        .WrongCSS{
            width: 25vw;
            color: #F94024;
            font-family: Roboto, cursive;
            font-size: 2vw;
            float: right;
        }
        .overlay {
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            transition: opacity 500ms;
            visibility: hidden;
            opacity: 0;
        }
        .overlay:target {
            visibility: visible;
            opacity: 1;
        }
        .popup {
            margin: 70px auto;
            padding: 20px;
            background: #ffffff;
            border-radius: 5px;
            width: 85%;
            position: relative;
            transition: all 5s ease-in-out;
            font-family: 'Roboto', sans-serif;
        }
        .popup h2 {
            text-align: center;
            margin-top: 0;
            color: #333;
            font-family: 'Roboto', sans-serif;
        }
        .popup .close {
            position: absolute;
            top: 20px;
            right: 30px;
            transition: all 200ms;
            font-size: 30px;
            font-weight: bold;
            text-decoration: none;
            color: #333;
        }
        .popup .close:hover {
            color: #E5F720;
        }
        .popup .content-1{
            max-height: 30%;
            overflow: auto;
            text-align: center;
        }
        .show {
            visibility: visible !important;
            opacity: 100 !important;
        }
        #starRating li {
            display: inline-block;
        }
        #next-level {
            background-color:#23385c;
            padding: 0.7rem 1rem;
            font-size: 1.1rem;
            display: block;
            margin: 0 auto;
            width: 50%;
            font-family: 'Roboto', sans-serif;
            color: #ffffff;
            border-radius: 5px;
            cursor: pointer;
        }
        .divnavbar{
	width: 100vw;
	margin-top: 5vh;
}
.volver{
	border: #23385c solid 1vh;
	border-radius: 2vh;
	font-family: Roboto, cursive;
	font-size: 4vh;
	padding: 0 2vh;
	margin-left: 5vh;
	text-decoration: none;
	color: #23385c;
}
.volver:hover{
	color: white;
	background: #23385c;
}
        .lesandi{
            font-family: Roboto, cursive;
            font-size: 4vh;
            color: #23385c;
            float: right;
            margin-right: 5vw;
        }
        .siguiente{
            text-align: center;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="divnavbar">
        <a href="games" class="volver"><i class="fa fa-arrow-left" aria-hidden="true"></i>Volver</a>
        <span class="lesandi">Lesandi</span>
    </div>
    <div class="Question"> 

    </div>
    <div class = "Contenedor"> 
        <div class = "tabla"> 
            <ul class = "Resp">

            </ul>
        </div>
    </div>

    <div class="Bajate">
         
    </div> 

    <br/>
    <p class="RightCSS">Respuestas Correctas: <span class = "Rightc">0 </span></p>
    <button 
            onclick="nextQuestion()" 
            id = "siguiente"  
            class="btnSiguiente"
        >
            Siguiente Pregunta
    </button> 
    <p class="WrongCSS">         Respuestas Incorrectas: <span class ="Wrongc">0</span></p>
    <div id="popup1" class="overlay">
        <div class="popup">
            <h2>Felicidades!!</h2>
            <a class="close" href=# >×</a>
            <div class="content-1">
                ¡Felicitaciones! Este es tu primer paso para convertirte en un lector.
            </div>
            <br>

            <a href="./Juego 1-2.html" id="next-level" class="siguiente">
                Siguiente Nivel
            </a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script>
        var sonidoCorrecto = new Audio ('sonidos/correcto.mp3');
    </script>
    <script>
        var sonidoIncorrecto = new Audio ('sonidos/incorrecto.mp3');
    </script>
    <script>
        var sonidoGritos = new Audio ('sonidos/gritos.mp3');
    </script>
    <script>
        var sonidojuego111 = new Audio ('sonidos/juego1-1-a.mp3');
    </script>
    <script>
        var sonidojuego112 = new Audio ('sonidos/juego1-1-e.mp3');
    </script>
    <script>
        var sonidojuego113 = new Audio ('sonidos/juego1-1-i.mp3');
    </script>
    <script>
        var sonidojuego114 = new Audio ('sonidos/juego1-1-o.mp3');
    </script>
    <script>
        var sonidojuego115 = new Audio ('sonidos/juego1-1-u.mp3');
    </script>

    <script>

        let RightAnswers;
        let currentPosition = 0; 
        let correcto =0;
        let incorrecto =0;
        var letra= ['A', 'E', 'I', 'O', 'U'];
        let modal = document.getElementById("popup1");
        let bntSiguiente = document.getElementById('siguiente');
        sonidojuego111.play();

        const Cuestionary = [

            {"Question" : "Selecciona las 3 imágenes que inician con la vocal 'A'.",
                "Answers": ["Oso", "Tigre", "Agua", "Manzana", "Araña", "Casa", "Arbol", "Rana", "Violin", "Cebolla", "Espejo", "Ocho"], //Objetos con las imagenes tenemos que remplazar.
                "CorrectA": [""],
            },

            {"Question" : "Selecciona las 3 imágenes que inician con la vocal 'E'.",
                "Answers": ["Colores", "Escuela", "Gorro", "Sopa", "Barco", "Flor", "Elefante", "Camion", "Estrella", "CupCake", "Pescado", "Jirafa"], 
                "CorrectA": [""]//Objetos con las imagenes tenemos que remplazar.
            },

            {"Question" : "Selecciona las 3 imágenes que inician con la vocal 'I'.",
                "Answers": ["Iguana", "Pera", "Coca", "Iglu", "Carro", "Leon", "Banana", "Isla", "Helicoptero", "Vaso", "Unicornio", "Uno"], 
                "CorrectA": [""] //Objetos con las imagenes tenemos que remplazar.
            },

            {"Question" : "Selecciona las 3 imágenes que inician con la vocal 'O'.",
                "Answers": ["Araña", "Oveja", "Botella", "Banana", "Zapato", "Ojo", "Manzana", "Pescado", "Oso", "Termo", "Iguana", "Casa"],
                "CorrectA": [""]  //Objetos con las imagenes tenemos que remplazar.
            },

            {"Question" : "Selecciona las 3 imágenes que inician con la vocal 'U'.",
                "Answers": ["Uno", "Uva", "Comida", "Uña", "Tenis", "Indio", "Iglesia", "Perro", "Anillo", "Television", "Armadillo", "Sopa"], 
                "CorrectA": [""] //Objetos con las imagenes tenemos que remplazar.
            }
            
        ];

        const nextQuestion = _ => {
            
            currentPosition++;
            printHTMLQuestion(currentPosition);
            console.log(currentPosition);
            if(currentPosition==1){
                sonidojuego112.play();
            }
            if(currentPosition==2){
                sonidojuego113.play();
            }
            if(currentPosition==3){
                sonidojuego114.play();
            }
            if(currentPosition==4){
                sonidojuego115.play();
            }
        }
        
        const printHTMLQuestion = (i) => {
            document.getElementById('siguiente').disabled = true;
            const q = Cuestionary[i];
            let a = q.Answers;
            a = a.sort((a,b) => Math.floor(Math.random()* 3) -1);
            const HTMLAnswersArray = a.map( CurrentA => `<li class="ans"><button onClick="EvaluateAnswers('${CurrentA}', this)"><img src="imagenes/${CurrentA}.jpg" /> </button> </li>`); //Se establece la respuesta correcta de la pregunta
            const HTMLAnswers = HTMLAnswersArray.join(' ');
            let HTMLQuestionCode = `<p>${q.Question}</p>`;
            let HTMLAnsCode = `<div>${HTMLAnswers}</div>`;
            document.querySelector('.Question').innerHTML = HTMLQuestionCode; 
            document.querySelector('.Resp').innerHTML = HTMLAnsCode;

        }

        const EvaluateAnswers = (Answers, obj) => {
            document.querySelectorAll('.ans').forEach( a => a.classList.remove('Wrong'));
            const parentP = obj.parentNode;
            var  prueba = "Evion";
            var indice =0;
            console.log('Answers: ' + Answers + ', RightAnswers: ' + RightAnswers + '  ' + letra[currentPosition] )
            if(Answers.charAt(indice) == letra[currentPosition]) {
                if(parentP.classList.contains('Right')){
 
                }
                else{
                    sonidoCorrecto.play();
                    parentP.classList.add('Right');
                    correcto++;
                    document.querySelector('.Rightc').innerHTML = correcto;
                }
                if(correcto%3==0){
                    sonidoGritos.play();
                    document.getElementById('siguiente').disabled = false;  
                    Swal.fire({
                        icon: 'success',
                        tittle: '¡Genial!',
                        text: '¡Vamos por el siguiente nivel!',
                        footer: ':)'
                    })
                }
                if(correcto==15){
                    modal.classList.add("show");  // Aqui termina el Juego, redireccionar a la pagina principal 
                    closeModal();
                }
            }
                else {
                    sonidoIncorrecto.play();
                    parentP.classList.add('Wrong');
                    incorrecto++;
                    document.querySelector('.Wrongc').innerHTML = incorrecto;
                    
                }
        }
        printHTMLQuestion(currentPosition); //Seleccionamos la pregunta #.
        printHTMLQuestion(0); //Seleccionamos la pregunta #.

        function closeModal(){
    closeicon.addEventListener("click", function(e){
        modal.classList.remove("show");
        startGame();
    });
}

    </script>

</body>
</html>